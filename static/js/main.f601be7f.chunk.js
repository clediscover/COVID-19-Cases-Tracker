(this["webpackJsonpcovid-19-cases-tracker"]=this["webpackJsonpcovid-19-cases-tracker"]||[]).push([[0],{76:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a(0),s=a.n(n),c=a(10),i=a.n(c),l=a(30),o=a(19),u=a(9),d=a.n(u),h=a(15),v=a(4),j=a(5),b=a(6),f=a(32),x=a(16),p=a.n(x),m=a(31),O=function(){return Object(r.jsx)("div",{className:"container",children:Object(r.jsx)("div",{className:"row my-2",children:Object(r.jsx)("h1",{className:"col text-center display-4",children:"COVID-19 UPDATE"})})})},y=function(e){var t=e.onChange,a=e.options,n=e.value;return Object(r.jsx)("div",{className:"container",children:Object(r.jsx)("div",{className:"row my-3 mx-lg-3",children:Object(r.jsxs)("div",{className:"col card card-body text-center mx-4",children:[Object(r.jsx)("h2",{className:"mb-3",children:"Search country"}),Object(r.jsx)(m.a,{isMulti:!0,value:n,options:a,onChange:t,placeholder:"Search here..."})]})})})},C=function(e){var t=e.cases,a=e.addClass,n=e.children;return Object(r.jsxs)("div",{className:"text-center my-2 rounded p-2 "+a,children:[Object(r.jsxs)("h4",{className:"font-weight-bold",children:[n," Cases"]}),Object(r.jsx)("p",{children:t})]})},g=function(e){var t=e.cases;return Object(r.jsx)(C,{cases:t,addClass:"bg-warning",children:"Confirmed"})},w=function(e){var t=e.cases;return Object(r.jsx)(C,{cases:t,addClass:"bg-success text-white",children:"Recovered"})},N=function(e){var t=e.cases;return Object(r.jsx)(C,{cases:t,addClass:"bg-danger text-white",children:"Death"})},k=function(e){var t=e.confirmed,a=e.recovered,n=e.deaths,s=e.country;return Object(r.jsx)("div",{className:"col-md-6 col-lg-4",children:Object(r.jsxs)("div",{className:"card mx-4 mx-md-0 my-3",children:[Object(r.jsx)("h3",{className:"card-header",children:s}),Object(r.jsxs)("div",{className:"card-body",children:[Object(r.jsx)(g,{cases:t}),Object(r.jsx)(w,{cases:a}),Object(r.jsx)(N,{cases:n})]})]})})},S=function(){return Object(r.jsx)("div",{className:"container text-white text-center lead ",children:Object(r.jsx)("div",{className:"row mx-4 mx-lg-5",children:Object(r.jsx)("div",{className:"col card bg-info p-2",children:Object(r.jsx)("p",{children:"No country is selected."})})})})},D=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(v.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={countries:[],selectedCountries:[{value:"Worldwide",label:"Worldwide"},{value:"Philippines",label:"Philippines"},{value:"India",label:"India"}],allCases:[]},e.selectCountry=function(t){null!==t?e.setState({selectedCountries:t},e.getCountryData):e.setState({selectedCountries:[]},e.getCountryData)},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.setCountries(),this.getCountryData()}},{key:"setCountries",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("https://covid19.mathdro.id/api/countries");case 2:t=e.sent,a=t.data,(r=(r=a.countries).map((function(e){var t=e.name;return{value:t,label:t}}))).push({value:"Worldwide",label:"Worldwide"}),this.setState({countries:r});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"worldWideData",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("https://covid19.mathdro.id/api");case 2:return t=e.sent,a=t.data,r={confirmed:a.confirmed.value.toLocaleString(),recovered:a.recovered.value.toLocaleString(),deaths:a.deaths.value.toLocaleString(),country:"Worldwide"},e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"isCasesInAllCases",value:function(e){var t,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=this.state.allCases,s=Object(o.a)(n);try{for(s.s();!(t=s.n()).done;){var c=t.value;if(""!==r||a){if(c.country===r)return!0}else if(c.country===e.country)return!0}}catch(i){s.e(i)}finally{s.f()}return!1}},{key:"getCountryData",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,a,r,n,s=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.selectedCountries,r=t.allCases,n=[],e.next=4,Promise.all(a.map(function(){var e=Object(h.a)(d.a.mark((function e(t){var a,r,c,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.value,s.isCasesInAllCases(null,!0,a)){e.next=14;break}if("Worldwide"!==a){e.next=8;break}return e.next=5,s.worldWideData();case 5:return r=e.sent,s.isCasesInAllCases(r)||n.push(r),e.abrupt("return");case 8:return e.next=10,p.a.get("https://covid19.mathdro.id/api/countries/".concat(a));case 10:c=e.sent,i=c.data,r={confirmed:i.confirmed.value.toLocaleString(),recovered:i.recovered.value.toLocaleString(),deaths:i.deaths.value.toLocaleString(),country:a},s.isCasesInAllCases(r)||n.push(r);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:this.setState({allCases:r.concat(n)}),this.unrenderCountryData();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"unrenderCountryData",value:function(){var e=this.state,t=e.selectedCountries,a=e.allCases;if(a.length>0){var r=a.filter((function(e){var a,r=Object(o.a)(t);try{for(r.s();!(a=r.n()).done;){if(a.value.value===e.country)return!0}}catch(n){r.e(n)}finally{r.f()}return!1}));this.setState({allCases:r})}}},{key:"render",value:function(){var e=this.state,t=e.selectedCountries,a=e.countries,n=e.allCases;return Object(r.jsxs)("section",{children:[Object(r.jsx)(O,{}),Object(r.jsx)(y,{value:t,options:a,onChange:this.selectCountry}),n.length>0&&Object(r.jsx)("article",{className:"container",children:Object(r.jsx)("div",{className:"row",children:n.map((function(e){return Object(r.jsx)(k,Object(l.a)({},e),e.country)}))})}),0===t.length&&Object(r.jsx)(S,{})]})}}]),a}(s.a.Component);i.a.render(Object(r.jsx)(D,{}),document.querySelector("#root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.f601be7f.chunk.js.map